<!DOCTYPE html>
<!-- saved from url=(0022)http://127.0.0.1:8080/ -->
<html lang="pt-br"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Formulário - Visita Domiciliar</title>

    <!-- ajuste -->
    <link rel="stylesheet" href="./Formulário - Visita Domiciliar_files/all.min.css">
    <link rel="stylesheet" href="./Formulário - Visita Domiciliar_files/bootstrap.css">
    <link rel="stylesheet" href="./Formulário - Visita Domiciliar_files/login.css">
    <link rel="stylesheet" href="./Formulário - Visita Domiciliar_files/style.css">
</head>

<body cz-shortcut-listen="true">
<main class="container-fluid container-md">
    <form class="form" method="POST" enctype="multipart/form-data">
        <fieldset class="mb-5">
    <legend>Identificação Pessoal</legend>
    <hr>

    <section class="row">
        <div class="col">
            <label for="nome_user" class="form-label">Nome</label>
            <input type="text" class="form-control removeCaracteresNumeros" id="nome_user" placeholder="Seu nome" aria-label="Digite seu nome" name="nome_user" minlength="3">
            <span class="mensagem-erro"></span>
        </div>
        <div class="col">
            <label for="sobrenome_user" class="form-label">Sobrenome completo</label>
            <input type="text" class="form-control removeCaracteresNumeros" id="sobrenome_user" placeholder="Seu Sobrenome completo" aria-label="Digite seu sobrenome completo" name="sobrenome_user" minlength="5">
            <span class="mensagem-erro"></span>
        </div>
    </section>

    <section class="row ">
        <div class="col">
            <label for="data_nascimento_user" class="form-label">Data Nascimento</label>
            <input type="date" id="data_nascimento_user dataCampo" class="form-control" placeholder="Data Nascimento" aria-label="Digite sua data de nascimento" name="data_nascimento_user" pattern="/^\d{1,2}\/\d{1,2}\/\d{4}$/" min="0" max="2023-12-31" onchange="calculateAge()">
             <span class="mensagem-erro"></span>
        </div>
        <div class="col">
            <label for="idade_user" class="form-label">Idade</label>
            <input type="text" id="idade_user" class=" form-control" disabled="" placeholder="Sua idade" aria-label="Exibe a sua idade" name="idade_user">
             <span class="mensagem-erro"></span>
        </div>
    </section>

    <section class="row ">
        <div class="col custom-select">
            <label for="naturalidade_user" class="form-label">Naturalidade</label>
            <div class="input-container">
                <span><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M182.6 470.6c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128z"></path></svg></span>
                <select required="" class="form-select" id="estado_civil_user" aria-label="Digite seu Estado Civil" name="naturalidade_user">
                    <option disabled="" selected="">Selecione uma opção</option>
                    <option value="Não Informado(a)">Não Informado(a)</option>
                    <option value="AC">Acre</option>
                    <option value="AL">Alagoas</option>
                    <option value="AP">Amapá</option>
                    <option value="AM">Amazonas</option>
                    <option value="BA">Bahia</option>
                    <option value="CE">Ceará</option>
                    <option value="DF">Distrito Federal</option>
                    <option value="ES">Espírito Santo</option>
                    <option value="GO">Goiás</option>
                    <option value="MA">Maranhão</option>
                    <option value="MT">Mato Grosso</option>
                    <option value="MS">Mato Grosso do Sul</option>
                    <option value="MG">Minas Gerais</option>
                    <option value="PA">Pará</option>
                    <option value="PB">Paraíba</option>
                    <option value="PR">Paraná</option>
                    <option value="PE">Pernambuco</option>
                    <option value="PI">Piauí</option>
                    <option value="RJ">Rio de Janeiro</option>
                    <option value="RN">Rio Grande do Norte</option>
                    <option value="RS">Rio Grande do Sul</option>
                    <option value="RO">Rondônia</option>
                    <option value="RR">Roraima</option>
                    <option value="SC">Santa Catarina</option>
                    <option value="SP">São Paulo</option>
                    <option value="SE">Sergipe</option>
                    <option value="TO">Tocantins</option>
                </select>
            </div>
             <span class="mensagem-erro"></span>
        </div>
        <div class="col">
            <label for="estado_civil_user" class="form-label">Estado Civil</label>
            <div class="input-container">
                <span><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M182.6 470.6c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128z"></path></svg></span>
                <select class="form-select" id="estado_civil_user" aria-label="Digite seu Estado Civil" name="estado_civil_user">
                    <option disabled="" selected="">Selecione uma opção</option>
                    <option value="Não Informado(a)">Não Informado(a)</option>
                    <option value="Solteiro">Solteiro</option>
                    <option value="casado">casado</option>
                    <option value="separado">separado</option>
                    <option value="Divorciado">Divorciado</option>
                    <option value="Viúvo">Viúvo</option>
                    <option value="Viúvo">União Estável</option>
                </select>
            </div>
             <span class="mensagem-erro"></span>
        </div>
    </section>

    <section class="row ">
        <div class="col">
            <label for="rg_user" class="form-label">RG</label>
            <input type="text" id="rg_user" class="form-control removeCaracteresNaoLetras" placeholder="RG" autocomplete="off" aria-label="Digite o seu RG (REGISTRO GERAL)" name="rg_user">
             <span class="mensagem-erro"></span>
        </div>
        <div class="col">
            <label for="data_expedicao_user" class="form-label">Data de Expedição</label>
            <input type="date" id="data_expedicao_user" class="form-control removeCaracteresNaoLetras" placeholder="Data de Expedição" aria-label="Digite a Data de Expedição do seu RG (REGISTRO GERAL)" name="data_expedicao_user">
             <span class="mensagem-erro"></span>
        </div>
    </section>

    <section class="row ">
        <div class="col ">
            <label for="orgao_expedidor_user" id="" class="form-label">Órgão Expedidor</label>
            <input type="text" id="orgao_expedidor_user" class="form-control removeCaracteresNumeros" placeholder="Orgão Expedidor" aria-label="Digite seu orgão Expedidor" name="orgao_expedidor_user">
             <span class="mensagem-erro"></span>
        </div>
        <div class="col">
            <label for="cpf_user" class="form-label obrigatorio">CPF (apenas números)</label>
            <input type="text" required="" autocomplete="off" id="cpf_user" class="form-control" name="cpf_user" onkeyup="ValidaCPF()" minlength="11" maxlength="14" pattern="\d{3}\.?\d{3}\.?\d{3}-?\d{2}">
             <span class="mensagem-erro"></span>
        </div>
    </section>

    <section class="row ">
        <div class="col">
            <label for="nis_user" class="form-label">NIS</label>
            <input type="text" id="nis_user" class="form-control removeCaracteresNaoLetras" placeholder="Identificação Social (NIS)" aria-label="Digite o Número de Identificação Social (NIS)" name="nis_user">
             <span class="mensagem-erro"></span>
        </div>
        <div class="col">
            <label for="cns_user" class="form-label">CNS</label>
            <input type="text" id="cns_user" class="form-control removeCaracteresNaoLetras" placeholder="Cartão Nacional de Saúde (CNS)" aria-label="Digite o número do Cartão Nacional de Saúde (CNS)" name="cns_user">
             <span class="mensagem-erro"></span>
        </div>
    </section>

</fieldset>

<!--data nascimeto user-->
<script>
    function calculateAge() {
        let birthdate = new Date(document.querySelector('#data_nascimento_user').value);
        let today = new Date();

        let age = today.getFullYear() - birthdate.getFullYear();

        if (today.getMonth() < birthdate.getMonth() ||
            (today.getMonth() === birthdate.getMonth() && today.getDate() < birthdate.getDate())) {
            age--;
        }

        document.querySelector('#idade_user').value = age;
    }

</script>

<fieldset class="mb-5">
    <legend>Escolaridade</legend>
    <hr>
    <section class="col">
        <label for="escolaridade_user" class="form-label">Escolaridade</label>
        <div class="input-container">
            <span><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M182.6 470.6c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128z"></path></svg></span>
            <select class="form-select" id="escolaridade_user" aria-label="Digite seu Estado Civil" name="escolaridade_user">

                <option value="Ensino Fundamental incompleto">Ensino Fundamental incompleto</option>
                <option value="Ensino Fundamental completo">Ensino Fundamental completo</option>
                <option value="Ensino Médio incompleto">Ensino Médio incompleto</option>
                <option value="Ensino Médio completo">Ensino Médio completo</option>
                <option value="Ensino Superior (graduação) incompleto">Ensino Superior (graduação) incompleto</option>
                <option value="Ensino Superior (graduação) completo">Ensino Superior (graduação) completo</option>
                <option value="Pós-Graduação (especialização, mestrado, doutorado) incompleto">Pós-Graduação (especialização, mestrado, doutorado) incompleto</option>
                <option value="Pós-graduação (especialização, mestrado, doutorado) completo">Pós-graduação (especialização, mestrado, doutorado) completo</option>
            </select>
            <span class="mensagem-erro"></span>
        </div>

    </section>
</fieldset>
<fieldset class="mb-5">
    <legend>Filiação</legend>
    <hr>

    <section class="row">
        <div class="col">
            <label for="nome_mae_filiacao" class="form-label">Nome da Mãe</label>
            <input type="text" class="form-control removeCaracteresNumeros" id="nome_mae_filiacao" placeholder="Nome da mãe" aria-label="Digite seu nome" name="nome_mae_filiacao">
            <span class="mensagem-erro"></span>
        </div>
        <div class="col">
            <label for="nome_pai_filiacao" class="form-label">Nome do Pai</label>
            <input type="text" class="form-control removeCaracteresNumeros" id="nome_pai_filiacao" placeholder="Nome do pai" aria-label="Digite seu sobrenome completo" name="nome_pai_filiacao" minlength="5">
            <span class="mensagem-erro"></span>
        </div>
    </section>


    <section class="row">
        <div class="col">
            <label for="endereco_filiacao" class="form-label">Endereço</label>
            <input type="text" class="form-control removeCaracteresNumeros" id="endereco_filiacao" placeholder="Endereço" aria-label="Digite seu nome" name="endereco_filiacao">
            <span class="mensagem-erro"></span>
        </div>
        <div class="col">
            <label for="numero_casa_filiacao" class="form-label">N°</label>
            <input type="text" class="form-control removeCaracteresNumeros" id="numero_casa_filiacao" placeholder="Número da Casa" aria-label="Digite seu sobrenome completo" name="numero_casa_filiacao">
            <span class="mensagem-erro"></span>
        </div>
    </section>

    <section class="row">
        <div class="col">
            <label for="bairro_filiacao" class="form-label">Bairro</label>
            <input type="text" class="form-control removeCaracteresNumeros" id="bairro_filiacao" placeholder="Bairro" aria-label="Digite seu nome" name="bairro_filiacao">
            <span class="mensagem-erro"></span>
        </div>
        <div class="col">
            <label for="telefone_filicacao" class="form-label">Telefone</label>
            <input type="text" class="form-control removeCaracteresNumeros" id="telefone_filicacao" placeholder="xx xxxxx-xxxx" aria-label="Digite seu sobrenome completo" name="telefone_filicacao">
            <span class="mensagem-erro"></span>
        </div>
    </section>

    <section class="row">
        <div class="col">
            <label for="ponto_referencia_filiacao" class="form-label">Ponto de Referência</label>
            <input type="text" class="form-control removeCaracteresNumeros" id="ponto_referencia_filiacao" placeholder="Digite seu ponto referência" aria-label="Digite seu nome" name="ponto_referencia_filiacao">
            <span class="mensagem-erro"></span>
        </div>
    </section>

</fieldset><fieldset class="mb-5">
    <legend>Conjugue / Companheiro</legend>
    <hr>

    <section class="row">
        <div class="col">
            <label for="nome_completo_companheiro" class="form-label">Nome Completo</label>
            <input type="text" class="form-control removeCaracteresNumeros" id="companheiro_nome_completo" placeholder="Digite o nome completo" aria-label="Digite o nome completo" name="companheiro_nome_completo">
            <span class="mensagem-erro"></span>
        </div>
    </section>

    <section class="row">
        <div class="col">
            <label for="companheiro_data_nascimento" class="form-label">Data Nascimento</label>
            <input type="date" id="companheiro_data_nascimento" class="form-control" placeholder="Data Nascimento" aria-label="Digite sua data de nascimento" name="companheiro_data_nascimento" pattern="/^\d{1,2}\/\d{1,2}\/\d{4}$/" min="0" max="9999-12-31" onchange="calculateAgeCompanheiro()">
            <span class="mensagem-erro"></span>
        </div>
        <div class="col">
            <label for="companheiro_idade" class="form-label">Idade</label>
            <input type="text" id="companheiro_idade" disabled="" class=" form-control" placeholder="Sua idade" aria-label="Exibe a sua idade" name="companheiro_idade">
        </div>
    </section>

    <section class="row">
        <div class="col">
            <label for="companheiro_ocupacao" class="form-label">Ocupação</label>
            <input type="text" class="form-control removeCaracteresNumeros" id="companheiro_ocupacao" placeholder="Digite ocupação" aria-label="Digite seu sobrenome completo" name="companheiro_ocupacao" minlength="5">
            <span class="mensagem-erro"></span>
        </div>
        <div class="col">
            <label for="companheiro_renda" class="hidden-md">Renda</label>
            <div class="input-group mt-2">
                <span class="input-group-text">R$</span>
                <input type="text" id="companheiro_renda" class="form-control" onkeyup="formatarMoeda(&#39;companheiro_renda&#39;)" placeholder="" aria-label="Username" aria-describedby="basic-addon1" name="companheiro_renda">
            </div>
        </div>
    </section>

    <section class="row">
        <div class="col">
            <label for="companheiro_rg" class="form-label">RG</label>
            <input type="text" class="form-control removeCaracteresNumeros" id="companheiro_rg" placeholder="Digite o RG" aria-label="Digite seu nome" name="companheiro_rg">
            <span class="mensagem-erro"></span>
        </div>
        <div class="col">
            <label for="companheiro_data_expedicao_rg" class="form-label">Data de Expedição</label>
            <input type="date" id="companheiro_data_nascimento" class="form-control" placeholder="Data de Expedição" aria-label="Digite sua data de nascimento" name="companheiro_data_expedicao_rg" pattern="/^\d{1,2}\/\d{1,2}\/\d{4}$/" min="0" max="9999-12-31">
            <span class="mensagem-erro"></span>
        </div>
    </section>

    <section class="row">
        <div class="col">
            <label for="companheiro_orgao_expedidor" class="form-label">Órgão Expedidor</label>
            <input type="text" class="form-control removeCaracteresNumeros" id="companheiro_orgao_expedidor" placeholder="Digite seu orgão expedidor" aria-label="Digite seu nome" name="companheiro_orgao_expedidor">
            <span class="mensagem-erro"></span>
        </div>
        <div class="col">
            <label for="companheiro_cpf" class="form-label obrigatorio">CPF (apenas números)</label>
            <input type="text" id="companheiro_cpf" class="form-control" name="companheiro_cpf" onkeyup="ValidaCPFCompanheiro()" minlength="11" maxlength="14" pattern="\d{3}\.?\d{3}\.?\d{3}-?\d{2}" autocomplete="none">
            <span class="mensagem-erro"></span>
        </div>

    </section>
</fieldset>

<script>
    function calculateAgeCompanheiro() {
        let birthdate = new Date(document.querySelector('#companheiro_data_nascimento').value);
        let today = new Date();

        let age = today.getFullYear() - birthdate.getFullYear();

        if (today.getMonth() < birthdate.getMonth() ||
            (today.getMonth() === birthdate.getMonth() && today.getDate() < birthdate.getDate())) {
            age--;
        }

        document.querySelector('#companheiro_idade').value = age;
    }
</script>
<fieldset class="mb-5">
    <legend>Trabalho e Remuneração</legend>
    <hr>

    <!-- Adicione uma div ou seção para conter os campos de cargo/função -->
    <section id="camposCargoFuncao">
        <section class="cargoFuncaoUser">
            <!-- Campo inicial -->
            <div class="row col">

                <label for="cargo-funcao-user" class="hidden-md">Cargo/Função</label>

                <div class="input-group group-tabalho">

                    <div class="input-container">
                        <span><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M182.6 470.6c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128z"></path></svg></span>

                        <select class="form-select cargo-funcao-user" aria-label="Digite seu Estado Civil" name="trabalho_cargo_user[]">
                            <option selected="" disabled="">Selecione uma opção</option>
                            <option value="Empregado com Carteira Assinada">Empregado com Carteira Assinada</option>
                            <option value="Autônomo com Previdência">Autônomo com Previdência</option>
                            <option value="Desempregado">Desempregado</option>
                            <option value="Aposentado/Pensionista">Aposentado/Pensionista</option>
                            <option value="Benefício de Prestação Continuada Idoso">Benefício de Prestação Continuada Idoso</option>
                            <option value="Benefício de Prestação Continuada Pessoa com Deficiência">Benefício de Prestação Continuada Pessoa com Deficiência</option>
                            <option value="Trabalhador Rural">Trabalhador Rural</option>
                            <option value="Atividades extras">Atividades extras</option>
                            <!-- Opções restantes aqui -->
                        </select>

                    </div>

                    <span class="input-group-text">R$</span>
                    <input type="text" class="form-control preco salario_user" placeholder="" aria-label="Server" name="salario_user[]" id="salario_user" onkeyup="formatarMoeda(&#39;salario_user&#39;)" min="0">
                </div>

                <span class="mensagem-erro"></span>
            </div>
        </section>
    </section>

    <button type="button" class="btn btn-primary add-button" onclick="adicionarCampoCargoFuncao()">Adicionar</button>
    <button type="button" class="btn btn-danger remove-button" onclick="removerCampoCargoFuncao()">Remover</button>


</fieldset>

<script>
    let count = 1

    function adicionarCampoCargoFuncao() {
        const cargoFuncaoUser = document.querySelector('.cargoFuncaoUser');
        const novoCampo = cargoFuncaoUser.firstElementChild.cloneNode(true);
        novoCampo.querySelector('.salario_user').value = ''; // Limpa o valor do campo salário no novo campo adicionado

        novoCampo.querySelector('.salario_user').id = 'salario_user' + '_' + count;

        count++

        // Remove the 'formatado' class from the new field (optional)
        novoCampo.querySelector('.salario_user').classList.remove('formatado');

        // Attach the event listener for formatting to the new field
        novoCampo.querySelector('.salario_user').addEventListener('keyup', function () {
            formatarMoeda(this.id);
        });

        cargoFuncaoUser.appendChild(novoCampo);
    }

    function removerCampoCargoFuncao() {
        const cargoFuncaoUser = document.querySelector('.cargoFuncaoUser');
        if (cargoFuncaoUser.childElementCount > 1) {
            cargoFuncaoUser.removeChild(cargoFuncaoUser.lastElementChild);
            count--;
        }
    }
</script><fieldset class="mb-5">
    <legend>DESPESAS DA FAMÍLIA</legend>
    <hr>

    <section class="row">
        <div class="col">
            <label for="renda_individual_user" class="hidden-md">Renda Individual</label>
            <div class="input-group mb-3">
                <span class="input-group-text">R$</span>
                <input type="text" id="renda_individual_user" class="form-control" onkeyup="formatarMoeda(&#39;renda_individual_user&#39;)" aria-label="Dollar amount (with dot and two decimal places)" name="rendaIndividual">
            </div>
        </div>

        <div class="col">
            <label for="renda_familiar_user" class="hidden-md">Renda Familiar</label>
            <div class="input-group">
                <span class="input-group-text">R$</span>
                <input type="text" id="renda_familiar_user" class="form-control" onkeyup="formatarMoeda(&#39;renda_familiar_user&#39;)" placeholder="" aria-label="Username" aria-describedby="basic-addon1" name="rendaFamilia">
            </div>
        </div>
    </section>

    <section class="row">
        <div class="col">
            <label for="alimentacao_user" class="hidden-md">Alimentação</label>
            <div class="input-group mb-3">
                <span class="input-group-text">R$</span>
                <input type="text" id="alimentacao_user" class="form-control" onkeyup="formatarMoeda(&#39;alimentacao_user&#39;)" aria-label="Dollar amount (with dot and two decimal places)" name="alimentacao">
            </div>
        </div>

        <div class="col">
            <label for="agua_user" class="hidden-md">Água</label>
            <div class="input-group">
                <span class="input-group-text" id="basic-user">R$</span>
                <input type="text" id="agua_user" class="form-control" onkeyup="formatarMoeda(&#39;agua_user&#39;)" placeholder="" aria-label="Username" aria-describedby="basic-addon1" name="gastoAgua">
            </div>
        </div>
    </section>

    <section class="row">
        <div class="col">
            <label for="energia-eletrica-user" class="hidden-md">Energia Elétrica</label>
            <div class="input-group mb-3">
                <span class="input-group-text">R$</span>
                <input type="text" id="energia-eletrica-user" class="form-control" onkeyup="formatarMoeda(&#39;energia-eletrica-user&#39;)" aria-label="Dollar amount (with dot and two decimal places)" name="gastoEnergiaEletrica">
            </div>
        </div>

        <div class="col">
            <label for="gas-user" class="hidden-md">Gás</label>
            <div class="input-group">
                <span class="input-group-text" id="basic-addon1">R$</span>
                <input type="text" id="gas-user" class="form-control" onkeyup="formatarMoeda(&#39;gas-user&#39;)" placeholder="" aria-label="Username" aria-describedby="basic-addon1" name="gastoGas">
            </div>
        </div>
    </section>

    <section class="row">
        <div class="col">
            <label for="meicamento-regular_familia" class="hidden-md">Medicamentos de uso regular</label>
            <div class="input-group mb-3">
                <span class="input-group-text">R$</span>
                <input type="text" id="meicamento-regular_familia" class="form-control" onkeyup="formatarMoeda(&#39;meicamento-regular_familia&#39;)" aria-label="Dollar amount (with dot and two decimal places)" name="gastoMedicamento">
            </div>
        </div>

        <div class="col">
            <label for="transport-user" class="hidden-md">Transporte</label>
            <div class="input-group">
                <span class="input-group-text">R$</span>
                <input type="text" id="transport-user" class="form-control" onkeyup="formatarMoeda(&#39;transport-user&#39;)" placeholder="" aria-label="Username" aria-describedby="basic-addon1" name="gastoTransporte">
            </div>
            <span class="mensagem-erro"></span>
        </div>

    </section>

    <section class="row">
        <div class="col">
            <label for="outras_despesas_user" class="hidden-md">Outras despesas</label>
            <div class="input-group mb-3">
                <span class="input-group-text">R$</span>
                <input type="text" class="form-control" id="outras_despesas_user" onkeyup="formatarMoeda(&#39;outras_despesas_user&#39;)" aria-label="Dollar amount (with dot and two decimal places)" name="gastroOutrasDespesa">
            </div>
        </div>

    </section>

</fieldset>
<fieldset class="mb-5">
    <legend>FAMÍLIA OU ALGUM MEMBRO É BENEFICIÁRIO DE ALGUM PROGRAMA DO GOVERNO FEDERAL?</legend>
    <hr>

    <section class="mb-4">
        <label for="ha_beneficios_user_sim" class="form-label">Há benefícios?</label>
        <div class="form-check">
            <input class="form-check-input" type="radio" name="ha_beneficios_user" id="ha_beneficios_user_sim" value="Sim" required="">
            <label class="form-check-label" for="ha_beneficios_user_sim">
                Sim
            </label>
        </div>
        <div class="form-check">
            <input class="form-check-input" type="radio" value="Não" name="ha_beneficios_user" id="ha_beneficios_user_nao" required="">
            <label class="form-check-label" for="ha_beneficios_user_nao">
                Não
            </label>
        </div>
    </section>

    <section class="mb-4" id="beneficios_div">
        <label for="nome_user" class="form-label">Quais benefícios?</label>
        <div class="form-check" style="margin-left: 12px">
            <input class="form-check-input" type="checkbox" value="PETI" id="quais_beneficios_familia_peti" name="beneficios[]" disabled="">
            <label class="form-check-label" for="quais_beneficios_familia_peti">
                PETI
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px">
            <input class="form-check-input" type="checkbox" value="Bolsa Famìlia" id="quais_beneficios_familia_bolsa_familia" disabled="" name="beneficios[]">
            <label class="form-check-label" for="quais_beneficios_familia_bolsa_familia">
                BOLSA FAMÌLIA
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px">
            <input class="form-check-input" type="checkbox" value="BPC" id="quais_beneficios_familia_bpc" disabled="" name="beneficios[]">
            <label class="form-check-label" for="quais_beneficios_familia_bpc">
                BPC
            </label>
        </div>
        <div class="input-group mb-3">
            <div class="input-group-text">
                <input class="form-check-input mt-0" type="checkbox" value="Outros" aria-label="Checkbox for following text input" name="beneficios[]" disabled="" id="outros-checkbox">
                <label class="form-check-label" style="margin-left: 10px">
                    Outros
                </label>
            </div>
            <input type="text" class="form-control" aria-label="Text input with checkbox" name="quais_beneficios_descricao" id="outros-descricao" disabled="">
        </div>
    </section>

    <section>
        <label for="preenchido_cad_unico_sim">Foi preenchido o Cadastro Único?</label>
        <div class="form-check" style="margin-left: 12px; ">
            <input class="form-check-input" type="radio" name="preenchido_cad_unico" id="preenchido_cad_unico_sim" value="Sim" required="">
            <label class="form-check-label" for="preenchido_cad_unico_sim">
                Sim
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="radio" name="preenchido_cad_unico" id="preenchido_cad_unico_nao" value="Não">
            <label class="form-check-label" for="preenchido_cad_unico_nao">
                Não
            </label>
        </div>
    </section>

</fieldset>



<fieldset class="mb-5">
    <legend>Acesso à Saúde</legend>
    <hr>

    <section>
        <label>Usuáio Possui Cartão do SUS (CNS)</label>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="radio" name="cartao_sus_user" id="cartao_sus_sim_user" value="Sim" required="">
            <label class="form-check-label" for="cartao_sus_sim_user">
                Sim
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="radio" name="cartao_sus_user" id="cartao_sus_nao_user" value="Sim">
            <label class="form-check-label" for="cartao_sus_nao_user">
                Não
            </label>
        </div>
    </section>

    <section>
        <label>Familia Possui Cartão do SUS (CNS)</label>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="radio" name="cartao_sus_familia" id="cartao_sus_sim_familia" value="Sim" required="">
            <label class="form-check-label" for="cartao_sus_sim_familia">
                Sim
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="radio" name="cartao_sus_familia" id="cartao_sus_nao_familia" value="Sim">
            <label class="form-check-label" for="cartao_sus_nao_familia">
                Não
            </label>
        </div>

    </section>

    <section>
        <label>Carteira de Vacinação (Família com crianças de até sete anos sem carteira de vacinação)</label>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="radio" name="carteira_vacinacao" id="carteira_vacinacao_familia_sim" value="Sim" required="">
            <label class="form-check-label" for="carteira_vacinacao_familia_sim">
                Sim
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="radio" name="carteira_vacinacao" id="carteira_vacinacao_familia_nao" value="Sim">
            <label class="form-check-label" for="carteira_vacinacao_familia_nao">
                Não
            </label>
        </div>
    </section>
</fieldset><fieldset class="mb-5">
    <legend>Acesso à Educação</legend>
    <hr>

    <section>
        <label for="adolecentes_matriculados">Todas as crianças e adolescentes estão matriculados na rede
            escolar?</label>
        <div class="form-check" style="margin-left: 12px;" id="adolecentes_matriculados">
            <input class="form-check-input" type="radio" name="adolecentes_matriculados" id="adolecentes_matriculados_sim" value="Sim" required="">
            <label class="form-check-label" for="adolecentes_matriculados_sim">
                Sim
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="radio" name="adolecentes_matriculados" id="adolecentes_matriculados_nao" value="Sim">
            <label class="form-check-label" for="adolecentes_matriculados_nao">
                Não
            </label>
        </div>
    </section>

    <section>
        <label for="assiduamente_escola">Estão frequentando assiduamente a escola?</label>
        <div class="form-check" style="margin-left: 12px;" id="assiduamente_escola">
            <input class="form-check-input" type="radio" name="assiduamente_escola" id="assiduamente_escola_user_sim" value="Sim" required="">

            <label class="form-check-label" for="assiduamente_escola_user_sim">
                Sim
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="radio" name="assiduamente_escola" id="assiduamente_escola_user_nao" value="Sim">
            <label class="form-check-label" for="assiduamente_escola_user_nao">
                Não
            </label>
        </div>
        <div class="form-floating">
                    <textarea class="form-control" name="assiduamente_escola_descricao" placeholder="Leave a comment here" id="assiduamente_escola_user_observacao" style="height: 100px" required=""></textarea>
            <label for="assiduamente_escola_user_observacao">Obervação</label>
        </div>
    </section>

</fieldset>
<fieldset class="mb-5">
    <legend>Grupo Familiar</legend>
    <hr>

    <section class="mb-4">
        <label for="familiar_destantes">No Grupo Familiar Possuem Gestantes</label>
        <div class="input-group" id="familiar_destantes">
            <div class="input-group-text">
                <input class="form-check-input secundario" type="radio" name="gestantes_familia" id="familiar_destantes_sim" value="Sim" required="">
                <label class="form-check-label" for="familiar_destantes_sim" style="padding-left: 10px">
                    Sim, quantas?
                </label>
            </div>
            <input type="number" class="form-control disableCampoDesc" pattern="\d+" name="gestantes_familia_quantidade" aria-label="Text input with checkbox" placeholder="Quantas Gestantes Possuem?" disabled="">
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="radio" name="gestantes_familia" id="familiar_destantes_nao" value="Não">
            <label class="form-check-label" for="familiar_destantes_nao">
                Não
            </label>
        </div>
        <div class="form-floating mt-2 mb-4" id="gestantes_familia_observacao">
            <textarea class="form-control" placeholder="Leave a comment here" id="gestantes_familia_observacao" style="height: 100px" name="gestantes_familia_observacao"></textarea>
            <label for="gestantes_familia_observacao">Observação</label>
        </div>
    </section>

    <section class="mb-4">
        <label>Pessoa com deficiência?</label>

        <div class="mb-2">
            <div class="input-group">
                <div class="input-group-text">
                    <input class="form-check-input" type="radio" name="pessoa_deficiencia" required="" id="pessoa_deficiencia_sim" value="Sim">
                    <label class="form-check-label" for="pessoa_deficiencia_sim" style="padding-left: 10px">
                        Sim, quantas
                    </label>
                </div>
                <input type="number" class="form-control disableCampoDesc" pattern="/^\d+$/" aria-label="Text input with checkbox" placeholder="Quantas Gestantes Possuem" min="0" max="100" name="pessoa_deficiencia_quantidade" disabled="">

            </div>

            <div class="form-check" style="margin-left: 12px;">
                <input class="form-check-input" type="radio" name="pessoa_deficiencia" id="pessoa_deficiencia_nao" value="Não">
                <label class="form-check-label" for="pessoa_deficiencia_nao">
                    Não
                </label>
            </div>

        </div>

        <div class="form-floating mt-2 mb-4">
            <textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea2" style="height: 100px" name="pessoa_deficiencia_observacao"></textarea>
            <label for="floatingTextarea2">Obervação</label>
        </div>

    </section>

    <section class="mb-4">
        <label>Tipo de deficiência?</label>
        <div class="input-group">
            <div class="input-group-text">
                <input class="form-check-input" type="radio" name="tipo_deficiencia" id="tipo_deficiencia_sim" value="Sim" required="" onclick="habilitarSelecao()">
                <label class="form-check-label" for="tipo_deficiencia_sim" style="padding-left: 10px">
                    Sim, quantas
                </label>
            </div>
            <select class="form-select disableCampoDesc" aria-label="Caixa de Seleção de Tipos de Deficiencia" name="tipo_deficiencia_select" id="tipo_deficiencia_select" disabled="">
                <option disabled="" selected="">Tipo de deficiência</option>
                <option value="Física">Física</option>
                <option value="Mental">Mental</option>
                <option value="Intelectual">Intelectual</option>
            </select>
        </div>

        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="radio" name="tipo_deficiencia" id="tipo_deficiencia_nao" value="Não">
            <label class="form-check-label mb-2" for="tipo_deficiencia_nao">
                Não
            </label>
        </div>

        <div class="form-floating mb-4">
                       <textarea class="form-control" placeholder="Leave a comment here" id="gestantes_familia_observacao" style="height: 100px" name="tipo_deficiencia_observacao"></textarea>
            <label for="floatingTextarea2">Obervação</label>
        </div>
    </section>

    <section class="mb-4">
        <label>Pessoas Idosas</label>

        <div class="input-group">
            <div class="input-group-text">
                <input class="form-check-input" type="radio" name="pessoa_idosa" id="pessoa_idosa_sim" value="Sim">
                <label class="form-check-label" for="pessoa_idosa_sim" style="padding-left: 10px">
                    Sim, quantas
                </label>
            </div>
            <input type="number" class="form-control" aria-label="Text input with checkbox" placeholder="Digite sua idade" min="0" max="100" pattern="\d+" name="pessoa_idosa_quantidade" disabled="">
        </div>

        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="radio" name="pessoa_idosa" id="pessoa_idosa_nao" value="Não">
            <label class="form-check-label mb-2" for="pessoa_idosa_nao">
                Não
            </label>
        </div>

        <div class="form-floating mb-4">
                           <textarea class="form-control" placeholder="Leave a comment here" id="pessoa_idosa_observacao" style="height: 100px" name="pessoa_idosa_observacao"></textarea>
            <label for="pessoa_idosa_observacao">Obervação</label>
        </div>
    </section>

    <section class="mb-4">
        <label>Na famíla possuem pessoas sem documentação?</label>

        <div class="input-group">
            <div class="input-group-text">
                <input class="form-check-input" type="radio" name="pessoa_tem_documentacao" id="pessoa_tem_documentacao_sim" value="Sim">
                <label class="form-check-label" for="pessoa_tem_documentacao_sim" style="padding-left: 10px">
                    Sim, quantas
                </label>
            </div>
            <input type="number" class="form-control" aria-label="Text input with checkbox" placeholder="Digite sua idade" name="pessoa_tem_documentacao_quantidade" pattern="\d+" disabled="" min="0" max="100">
        </div>

        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="radio" name="pessoa_tem_documentacao" id="pessoa_tem_documentacao_nao" value="Não">
            <label class="form-check-label mb-2" for="pessoa_tem_documentacao_nao">
                Não
            </label>
        </div>

        <div class="form-floating mb-4">
            <textarea class="form-control" placeholder="Leave a comment here" id="pessoa_tem_documentacao_observacao" style="height: 100px" name="pessoa_tem_documentacao_observacao"></textarea>
            <label for="pessoa_tem_documentacao_observacao">Obervação</label>
        </div>

        <div class="mb-4">
            <label>Situação do Imóvel </label>

            <div class="col custom-select">
                <div class="input-container">
                    <span><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 320 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M182.6 470.6c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128z"></path></svg></span>
                    <select class="form-select" aria-label="Default select example" name="situacao_imovel">
                        <option disabled="" selected="">Tipo de deficiência</option>
                        <option value="Próprio">Próprio</option>
                        <option value="Cedido">Cedido</option>
                        <option value="Alugado">Alugado</option>
                        <option value="Financiado">Empossado</option>
                    </select>
                </div>
            </div>

            <div class="form-floating mt-2 mb-4">
                <textarea class="form-control" placeholder="Leave a comment here" id="situacao_imovel_observacao" style="height: 100px" name="situacao_imovel_observacao"></textarea>
                <label for="situacao_imovel_observacao">Obervação</label>
            </div>
        </div>

    </section>


</fieldset><fieldset class="mb-5">
    <legend>Materiais usados na contrução do seu domicílio</legend>
    <hr>

    <section class="mb-4">
        <label>Qual material é predominante na construção do seu domicílio?</label>

        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Tijolo" id="construcao_domicilio_tijolo" name="construcao_domicilio[]">
            <label class="form-check-label" for="construcao_domicilio_tijolo">
                Tijolo
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Madeira" id="construcao_domicilio_madeira" name="construcao_domicilio[]">
            <label class="form-check-label" for="construcao_domicilio_madeira">
                Madeira
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Adobe" id="construcao_domicilio_adobe" name="construcao_domicilio[]">
            <label class="form-check-label" for="construcao_domicilio_adobe">
                Adobe
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Palha com alvenaria" id="construcao_domicilio_palhaAlvenaria" name="construcao_domicilio[]">
            <label class="form-check-label" for="construcao_domicilio_palhaAlvenaria">
                Palha com alvenaria
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Palha" id="construcao_domicilio_palha" name="construcao_domicilio[]">
            <label class="form-check-label" for="construcao_domicilio_palha">
                Palha
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Material improvisado" id="construcao_domicilio_meterialImporvisado" name="construcao_domicilio[]">
            <label class="form-check-label" for="construcao_domicilio_meterialImporvisado">
                Material improvisado
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Outro" id="construcao_domicilio_outro" name="construcao_domicilio[]">
            <label class="form-check-label" for="construcao_domicilio_outro">
                Outro
            </label>
        </div>
    </section>

    <section class="mb-4">
        <label>Qual é a forma de iluminação utilizada no seu domicílio?</label>

        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Relógio próprio" id="iluminacao_domicilio_relogio_padrao" name="iluminacao_domicilio[]">
            <label class="form-check-label" for="iluminacao_domicilio_relogio_padrao">
                Relógio próprio
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Sem relógio" id="iluminacao_domicilio_sem_relogio" name="iluminacao_domicilio[]">
            <label class="form-check-label" for="iluminacao_domicilio_sem_relogio">
                Sem relógio
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Vela" id="iluminacao_domicilio_vela" name="iluminacao_domicilio[]">
            <label class="form-check-label" for="iluminacao_domicilio_vela">
                Vela
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Lampião" id="iluminacao_domicilio_lampiao" name="iluminacao_domicilio[]">
            <label class="form-check-label" for="iluminacao_domicilio_lampiao">
                Lampião
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Outro" id="iluminacao_domicilio_outro" name="iluminacao_domicilio[]">
            <label class="form-check-label" for="iluminacao_domicilio_outro">
                Outro
            </label>
        </div>
    </section>

    <section class="mb-4">
        <label>Qual é a forma de abastecimento de àgua utlizada no seu domucílio?</label>

        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Rede pública" id="agua_domicilio_rede_publica" name="agua_domicilio[]">
            <label class="form-check-label" for="agua_domicilio_rede_publica">
                Rede pública
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Poço/Nascente" id="agua_domicilio_poco_nascente" name="agua_domicilio[]">
            <label class="form-check-label" for="agua_domicilio_poco_nascente">
                Poço/Nascente
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Carro pipa" id="agua_domicilio_carro_pipa" name="agua_domicilio[]">
            <label class="form-check-label" for="agua_domicilio_carro_pipa">
                Carro pipa
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Outro" id="agua_domicilio_outro" name="agua_domicilio[]">
            <label class="form-check-label" for="agua_domicilio_outro">
                Outro
            </label>
        </div>
    </section>

    <section class="mb-4">
        <label>Qual tratamento è dado a á agua consumida pela família?</label>

        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Filtrada" id="tratamento_agua_filtrada" name="tratamento_agua[]">
            <label class="form-check-label" for="tratamento_agua_filtrada">
                Filtrada
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Fervida" id="tratamento_agua_fervida" name="tratamento_agua[]">
            <label class="form-check-label" for="tratamento_agua_fervida">
                Fervida
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Mineral" id="tratamento_agua_mineral" name="tratamento_agua[]">
            <label class="form-check-label" for="tratamento_agua_mineral">
                Mineral
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Outro" id="tratamento_agua_outro" name="tratamento_agua[]">
            <label class="form-check-label" for="tratamento_agua_outro">
                Outro
            </label>
        </div>
    </section>

    <section class="mb-4">
        <label>Qual a estrutura de escoamento sanitário?</label>

        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Rede pública" id="escoamento_sanitário_rede_public" name="escoamento_sanitario[]">
            <label class="form-check-label" for="escoamento_sanitário_rede_public">
                Rede pública
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Fossa rudimentar" id="escoamento_sanitário_fossa_rudimentar" name="escoamento_sanitario[]">
            <label class="form-check-label" for="escoamento_sanitário_fossa_rudimentar">
                Fossa rudimentar
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Céu aberto" id="escoamento_sanitário_ceu_aberto" name="escoamento_sanitario[]">
            <label class="form-check-label" for="escoamento_sanitário_ceu_aberto">
                Céu aberto
            </label>
        </div>
        <div class="form-check" style="margin-left: 12px;">
            <input class="form-check-input" type="checkbox" value="Outro" id="escoamento_sanitário_outro" name="escoamento_sanitario[]">
            <label class="form-check-label" for="escoamento_sanitário_outro">
                Outro
            </label>
        </div>
    </section>

</fieldset><fieldset class="mb-5">
    <legend>Composição familiar dos moradores do domicílio</legend>

    <section class=" px-0">
        <div id="form-container">

            <!-- Aqui começa o formulário inicial -->
            <div class="moradores-domicilio">
                <div id="form-container mt-3 mb-3">
                    <!-- Aqui começa o formulário inicial -->
                    <div class="row moradores-domicilio" style="align-items: center;">
                        <div class="moradores-domicilio mt-3 mb-3" id="moradores-domicilio">
                            <hr>
                            <div class="row">
                                <div class="col  ">
                                    <label for="nome_completo" class="form-label">Nome Completo:</label>
                                    <input type="text" class="form-control" id="nome_completo" placeholder="Seu nome completo" name="nome_completo_familia_moradores_domicilio[]" aria-label="Digite seu nome completo">
                                    <span class="mensagem-erro"></span>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col  ">
                                    <label for="data_nascimento" class="form-label">Data de
                                        nascimento:</label>
                                    <input type="date" class="form-control" id="data_nascimento" placeholder="Data de nascimento" name="data_nascimento_familia_moradores_domicilio[]" aria-label="Digite sua data de nascimento">
                                    <span class="mensagem-erro"></span>
                                </div>
                                <div class="col  ">
                                    <label for="idade" class="form-label">Idade</label>
                                    <input type="number" min="0" class="form-control" id="idade" placeholder="Sua idade" disabled="" name="idade_familia_moradores_domicilio[]" aria-label="Digite sua idade">
                                    <span class="mensagem-erro"></span>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col  ">
                                    <label for="rg" class="form-label">RG:</label>
                                    <input type="text" class="form-control" id="rg" placeholder="Seu RG" name="rg_familia_moradores_domicilio[]" aria-label="Digite seu RG">
                                    <span class="mensagem-erro"></span>
                                </div>
                                <div class="col  ">
                                    <label for="data_expedicao" class="form-label">Data de Expedição:</label>
                                    <input type="date" class="form-control" id="data_expedicao" placeholder="Data de Expedição do RG" name="data_expedicao_rg_familia_moradores_domicilio[]" aria-label="Digite a data de expedição do RG">
                                    <span class="mensagem-erro"></span>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col  ">
                                    <label for="orgao_expedidor" class="form-label">Órgão Expedidor:</label>
                                    <input type="text" class="form-control" id="orgao_expedidor" placeholder="Órgão expedidor do RG" name="orgao_expedidor_rg_familia_moradores_domicilio[]" aria-label="Digite o órgão expedidor do RG">
                                    <span class="mensagem-erro"></span>
                                </div>
                                <div class="col  ">
                                    <label for="algum_familiar_cpf" class="form-label obrigatorio">CPF (apenas números)</label>
                                    <input type="text" id="algum_familiar_cpf" class="form-control" name="cpf_familia_moradores_domicilio[]" onkeyup="ValidaCPFCompanheiro2()" minlength="11" maxlength="14" pattern="\d{3}\.?\d{3}\.?\d{3}-?\d{2}" autocomplete="none">
                                    <span class="mensagem-erro"></span>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col  ">
                                    <label for="cns" class="form-label">CNS:</label>
                                    <input type="text" class="form-control" id="cns" placeholder="Seu CNS" name="cns_familia_moradores_domicilio[]" aria-label="Digite seu Cartão Nacional de Saúde (CNS)">
                                    <span class="mensagem-erro"></span>
                                </div>
                                <div class="col  ">
                                    <label for="ocupacao" class="form-label">Ocupação:</label>
                                    <input type="text" class="form-control" id="ocupacao" placeholder="Sua ocupação" name="ocupacao_familia_moradores_domicilio[]" aria-label="Digite sua ocupação">
                                    <span class="mensagem-erro"></span>
                                </div>
                            </div>

                            <div class="row salario_user">

                                <div class="col  ">
                                    <label for="renda_familia_moradores_domicilio" class="hidden-md">Renda:</label>
                                    <div class="input-group">
                                        <span class="input-group-text">R$</span>
                                        <input type="text" id="renda_familia_moradores_domicilio" class="form-control" onkeyup="formatarMoeda(&#39;renda_familia_moradores_domicilio&#39;)" aria-label="Dollar amount (with dot and two decimal places)" name="renda_familia_moradores_domicilio[]">
                                    </div>
                                    <span class="mensagem-erro"></span>
                                </div>

                                <div class="col  ">
                                    <label for="parentesco" class="form-label ">Parentesco:</label>
                                    <input type="text" class="form-control" id="parentesco" placeholder="Seu parentesco" name="parentesco_familia_moradores_domicilio[]" aria-label="Digite seu parentesco">
                                    <span class="mensagem-erro"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Aqui termina o formulário inicial -->
        </div>

        <button id="add-button" class="btn btn-primary add-button" type="button">Adicionar</button>
        <button id="remove-button" class="btn btn-danger remove-button" type="button">Remover</button>
        
    </section>
</fieldset>


<script>
    let c = 1; // Initialize counter

    document.getElementById('add-button').addEventListener('click', adicionarCampoFamiliaMoradores);
    document.getElementById('remove-button').addEventListener('click', removerCampoFamiliaMoradores);

    function adicionarCampoFamiliaMoradores() {
        const moradoresDomicilio = document.querySelector('.moradores-domicilio');
        const novoCampo = moradoresDomicilio.firstElementChild.cloneNode(true);

        // Clear field values in the new clone
        novoCampo.querySelectorAll('input').forEach(input => {
            input.value = '';
        });

        // Update IDs if needed (e.g., for elements with ID attributes)
        novoCampo.querySelectorAll('[id]').forEach(element => {
            element.id = element.id + '_' + c;
        });

        // Remove the 'formatado' class from any cloned fields (optional)
        novoCampo.querySelectorAll('.salario_user').forEach(salarioField => {
            salarioField.classList.remove('formatado');
            salarioField.removeEventListener('keyup', formatarMoeda);
            salarioField.addEventListener('keyup', function () {
                formatarMoeda(this.id);
            });
        });

        moradoresDomicilio.appendChild(novoCampo);
        c++;
    }

    function removerCampoFamiliaMoradores() {
        const moradoresDomicilio = document.querySelector('.moradores-domicilio');
        if (moradoresDomicilio.childElementCount > 1) {
            moradoresDomicilio.removeChild(moradoresDomicilio.lastElementChild);
            c--;
        }
    }
</script>





<div>
    <h1 class="text-center">Capturar Assinatura</h1>
    <p class="text-center">Por favor assine abaixo:</p>

    <div class="d-flex align-items-center justify-content-between m-3">
        <button id="save-button" class="btn btn-primary" type="button">Salvar Assinatura</button>
        <button id="clear-button" class="btn btn-secondary" type="button">Limpar Campo</button>
    </div>

    <div class="signature-wrapper">
        <canvas class="coll border bg-white" id="signature-pad" height="200" width="1168"></canvas>
    </div>


    <span id="message-span" class="mesagem-erro"></span>

    <!-- Adicione um elemento de imagem para exibir a assinatura -->
    <p class="text-center mt-3" id="preview-ass" style="display: none;">Preview da Assinatura:</p>
    <img id="signature-image" height="200" class="img-fluid" style="display: none;" alt="assiantura-visualização" src="http://127.0.0.1:8080/">
</div>

<script type="text/javascript">

    // Obtém o elemento do wrapper da assinatura
    let signatureWrapper = document.querySelector('.signature-wrapper');

    // Adiciona o evento de manipulação de toque para prevenir o movimento
    signatureWrapper.addEventListener('touchmove', function(e) {
        e.preventDefault();
    }, { passive: false });



    let canvas = document.getElementById('signature-pad');
    let ctx = canvas.getContext('2d');
    let drawing = false; // Variável para indicar se está ocorrendo um desenho

    function resizeCanvas() {
        // Define as dimensões do canvas com base no tamanho real do elemento pai
        canvas.width = canvas.parentElement.clientWidth;
        canvas.height = 200; // Altura fixa do canvas

        // Ajusta o tamanho do desenho conforme necessário
        ctx.lineWidth = 2; // Defina a espessura da caneta
        ctx.strokeStyle = "black"; // Defina a cor da caneta

    }

    // Chamada inicial para ajustar o tamanho do canvas
    resizeCanvas();

    // Atualiza o tamanho do canvas quando a janela é redimensionada
    window.addEventListener('resize', resizeCanvas);


    // Função para iniciar o desenho
    function startDrawing(e) {
        drawing = true;
        ctx.beginPath();
        const coords = getEventCoordinates(e);
        ctx.moveTo(coords.x, coords.y);
    }

    // Função para parar o desenho
    function stopDrawing() {
        drawing = false;
    }

    // Função para desenhar enquanto o cursor ou dedo se move
    function draw(e) {
        if (!drawing) return;
        const coords = getEventCoordinates(e);
        ctx.lineTo(coords.x, coords.y);
        ctx.stroke();
    }

    // Função para obter as coordenadas do evento
    function getEventCoordinates(e) {
        const rect = canvas.getBoundingClientRect();
        let x, y;

        if (e.touches && e.touches.length > 0) {
            x = e.touches[0].clientX - rect.left;
            y = e.touches[0].clientY - rect.top;
        } else {
            x = e.clientX - rect.left;
            y = e.clientY - rect.top;
        }

        return {x, y};
    }

    // Função para obter a posição X do evento
    function getX(e) {
        if (e.touches && e.touches.length > 0) {
            return e.touches[0].clientX - canvas.offsetLeft;
        } else {
            return e.clientX - canvas.offsetLeft;
        }
    }

    // Função para obter a posição Y do evento
    function getY(e) {
        if (e.touches && e.touches.length > 0) {
            return e.touches[0].clientY - canvas.offsetTop;
        } else {
            return e.clientY - canvas.offsetTop;
        }
    }

    canvas.addEventListener('mousedown', startDrawing);
    canvas.addEventListener('mousemove', draw);
    canvas.addEventListener('mouseup', stopDrawing);
    canvas.addEventListener('mouseleave', stopDrawing);

    canvas.addEventListener('touchstart', startDrawing);
    canvas.addEventListener('touchmove', draw);
    canvas.addEventListener('touchend', stopDrawing);


    // Event listener para o botão "Salvar Assinatura"
    let saveButton = document.getElementById('save-button');
    saveButton.addEventListener('click', saveSignature);

    const MIN_PIXELS_FILLED = 1800; // Defina o mínimo de pixels preenchidos que você deseja

    function saveSignature() {
        if (!drawing) {
            const filledPixelCount = countFilledPixels();

            if (filledPixelCount < MIN_PIXELS_FILLED) {
                showMessage("message-span", `Você precisa assinar pelo menos ${MIN_PIXELS_FILLED} pixels antes de salvar.`, "error");
                document.getElementById('enviar-button').disabled = true;
            } else if (filledPixelCount === 0) {
                showMessage("message-span", "Você ainda não assinou. Complete a assinatura antes de salvar.", "error");
                document.getElementById('enviar-button').disabled = true;

            } else {
                showMessage("message-span", "Assinatura salva com sucesso! ✅", "success");
                document.getElementById('enviar-button').disabled = false;

                // Restante do código para salvar a assinatura
                const signatureDataURL = canvas.toDataURL();

                // Envia a imagem para o servidor usando uma solicitação AJAX
                const xhr = new XMLHttpRequest();
                xhr.open('POST', 'cadastrar', true);
                xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                xhr.onreadystatechange = function() {
                    if (xhr.readyState === 4 && xhr.status === 200) {
                        console.log(xhr.responseText); // Exibe a resposta do servidor
                    }
                };
                xhr.send('signatureData=' + encodeURIComponent(signatureDataURL));

                const signatureImage = document.getElementById('signature-image');
                signatureImage.src = signatureDataURL;
                signatureImage.style.display = 'block';
                signatureImage.style.border = "1px solid black";

                const signaturePreviewTitle = document.getElementById('preview-ass');
                signaturePreviewTitle.style.display = 'block';

                // Dentro da função saveSignature(), após o trecho de atualização da imagem de assinatura
                document.getElementById('assinatura_data_url_input').value = signatureDataURL;
            }
        } else {
            showMessage("message-span", "Você ainda está desenhando. Complete a assinatura antes de salvar.", "error");
        }
    }


    function showMessage(elementId, message, type) {
        const messageElement = document.getElementById(elementId);
        messageElement.textContent = message;

        if (type === "error") {
            messageElement.classList.remove("mensagem-success");
            messageElement.classList.add("mensagem-error");
        } else if (type === "success") {
            messageElement.classList.remove("mensagem-error");
            messageElement.classList.add("mensagem-success");
        }

        messageElement.style.display = "block";
    }


    function countFilledPixels() {
        const canvasContext = canvas.getContext('2d');
        const canvasData = canvasContext.getImageData(0, 0, canvas.width, canvas.height).data;
        let filledPixelCount = 0;

        for (let i = 0; i < canvasData.length; i += 4) {
            if (canvasData[i + 3] !== 0) {
                filledPixelCount++;
            }
        }

        return filledPixelCount;
    }


    // Event listener para o botão "Limpar Campo"
    let clearButton = document.getElementById('clear-button');
    clearButton.addEventListener('click', function () {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        canvas.style.border = "1px solid black"; // Restaura a borda preta

        // Limpa a pré-visualização da imagem da assinatura
        const signatureImage = document.getElementById('signature-image');
        signatureImage.style.display = 'none';
        signatureImage.src = ''; // Limpa a imagem da assinatura adicionada

        const signaturePreviewTitle = document.getElementById('preview-ass');
        signaturePreviewTitle.style.display = 'none';

        // Limpa a mensagem de sucesso ou erro
        const messageElement = document.getElementById("message-span");
        messageElement.style.display = "none";
        messageElement.textContent = ""; // Limpa o texto da mensagem

        // Opcionalmente, você pode remover as classes de mensagem
        messageElement.classList.remove("mensagem-success");
        messageElement.classList.remove("mensagem-error");

        document.getElementById('enviar-button').disabled = true;
        document.getElementById('assinatura_data_url_input').value = null;
    });


</script>



        <!-- Campo oculto para armazenar a imagem de assinatura -->
        <input type="hidden" name="assinatura_data_url" id="assinatura_data_url_input">
        <input disabled="" id="enviar-button" class="btn btn-primary" type="submit" value="enviar" name="cadastrar">
    </form>
</main>


<script src="./Formulário - Visita Domiciliar_files/valor-monetario.js.download"></script>
<script src="./Formulário - Visita Domiciliar_files/ValidaCPF.js.download"></script>
<script src="./Formulário - Visita Domiciliar_files/calculo-idade.js.download"></script>
<script src="./Formulário - Visita Domiciliar_files/ativa-desativa-campos-familia.js.download"></script>
<script src="./Formulário - Visita Domiciliar_files/ativa-desativa-grupo-familia.js.download"></script>
<script src="./Formulário - Visita Domiciliar_files/scripts.js.download" type="module"></script>
<script src="./Formulário - Visita Domiciliar_files/tudo.js.download"></script>







</body></html>