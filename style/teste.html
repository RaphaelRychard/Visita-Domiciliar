<!--<!doctype html>-->
<!--<html lang="pt-br">-->
<!--<head>-->
<!--    <meta charset="utf-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1">-->
<!--    <title>Bootstrap demo</title>-->

<!--    <title>jQuery Add/Remove Fields - Bootstrap 4 Edition</title>-->

<!--    <style>-->
<!--        .class-link {-->
<!--            color: #6cc417;-->
<!--            text-decoration: none;-->
<!--        }-->

<!--        .class-link:hover {-->
<!--            color: #ffbb00;-->
<!--        }-->
<!--    </style>-->

<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">-->
<!--</head>-->


<!--<body>-->
<!--<div class="container my-4">-->
<!--    <div class="card my-4 shadow">-->
<!--        <div class="card-body">-->

<!--            <form action="" method="post">-->
<!--                <div class="row" style="align-items: center;">-->
<!--                    <div class="col-md-10 dynamic-field" id="dynamic-field-1">-->
<!--                        <div class="row">-->
<!--                            <label for="group-tabalho" class="hidden-md">Name</label>-->
<!--                            <div class="input-group mb-3" id="group-tabalho">-->
<!--                                <select class="form-select col-4" aria-label="Digite seu Estado Civil">-->
<!--                                    <option selected disabled>Selecione uma opção</option>-->
<!--                                    <option value="Solteiro">Solteiro</option>-->
<!--                                    <option value="casado">casado</option>-->
<!--                                    <option value="separado">separado</option>-->
<!--                                    <option value="Divorciado">Divorciado</option>-->
<!--                                    <option value="Viúvo">Viúvo</option>-->
<!--                                </select>-->
<!--                                <span class="input-group-text">R$</span>-->
<!--                                <input type="text" class="form-control" placeholder="" aria-label="Server">-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    <div class=" mt-3 append-buttons">-->
<!--                        <div class="clearfix">-->
<!--                            <button type="button" id="add-button" class="btn btn-secondary float-left text-uppercase shadow-sm">-->
<!--                                <i class="fa fa-plus fa-fw">ADD</i>-->
<!--                            </button>-->
<!--                            <button type="button" id="remove-button" class="btn btn-secondary float-left text-uppercase ml-1" disabled="disabled">-->
<!--                                <i class="fa fa-minus fa-fw">Remove</i>-->
<!--                            </button>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </form>-->

<!--            <footer>-->
<!--                Designed by &nbsp; <a class="class-link" href="https://www.instagram.com/pradeeptomar21/" target="blank">Pradeep Singh Tomar</a>-->
<!--            </footer>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>-->

<!--<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>-->

<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>-->

<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>-->

<!--<script>-->
<!--    $(document).ready(function () {-->
<!--        var buttonAdd = $("#add-button");-->
<!--        var buttonRemove = $("#remove-button");-->
<!--        var className = ".dynamic-field";-->
<!--        var count = 0;-->
<!--        var field = "";-->
<!--        var maxFields = 50;-->

<!--        function totalFields() {-->
<!--            return $(className).length;-->
<!--        }-->

<!--        function addNewField() {-->
<!--            count = totalFields() + 1;-->
<!--            field = $("#dynamic-field-1").clone();-->
<!--            field.attr("id", "dynamic-field-" + count);-->
<!--            field.children("label").text("Field " + count);-->
<!--            field.find("input").val("");-->
<!--            $(className + ":last").after($(field));-->
<!--        }-->

<!--        function removeLastField() {-->
<!--            if (totalFields() > 1) {-->
<!--                $(className + ":last").remove();-->
<!--            }-->
<!--        }-->

<!--        function enableButtonRemove() {-->
<!--            if (totalFields() === 2) {-->
<!--                buttonRemove.removeAttr("disabled");-->
<!--                buttonRemove.addClass("shadow-sm");-->
<!--            }-->
<!--        }-->

<!--        function disableButtonRemove() {-->
<!--            if (totalFields() === 1) {-->
<!--                buttonRemove.attr("disabled", "disabled");-->
<!--                buttonRemove.removeClass("shadow-sm");-->
<!--            }-->
<!--        }-->

<!--        function disableButtonAdd() {-->
<!--            if (totalFields() === maxFields) {-->
<!--                buttonAdd.attr("disabled", "disabled");-->
<!--                buttonAdd.removeClass("shadow-sm");-->
<!--            }-->
<!--        }-->

<!--        function enableButtonAdd() {-->
<!--            if (totalFields() === (maxFields - 1)) {-->
<!--                buttonAdd.removeAttr("disabled");-->
<!--                buttonAdd.addClass("shadow-sm");-->
<!--            }-->
<!--        }-->

<!--        buttonAdd.click(function () {-->
<!--            addNewField();-->
<!--            enableButtonRemove();-->
<!--            disableButtonAdd();-->
<!--        });-->

<!--        buttonRemove.click(function () {-->
<!--            removeLastField();-->
<!--            disableButtonRemove();-->
<!--            enableButtonAdd();-->
<!--        });-->
<!--    });-->
<!--</script>-->

<!--</body>-->
<!--</html>-->
<!DOCTYPE html>
<html>
<head>
    <title>Assinatura Digital</title>
    <style>
        #canvas {
            border: 1px solid #ccc;
            width: 80%; /* Defina a largura do canvas em porcentagem */
            height: 200px; /* Defina a altura fixa do canvas em 200 pixels */
        }

        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }
    </style>
</head>
<body>
<h1>Assine o documento</h1>
<canvas id="canvas" width=1800" height="400"></canvas>
<br>
<button id="clearBtn">Limpar</button>
<button id="saveBtn">Salvar Assinatura</button>

<script>
    window.addEventListener('load', function () {
        var canvas = document.getElementById('canvas');
        var context = canvas.getContext('2d');
        var drawing = false;

        function startDrawing(event) {
            drawing = true;
            var pos = getMousePos(event);
            context.beginPath();
            context.moveTo(pos.x, pos.y);
        }

        function draw(event) {
            if (drawing) {
                var pos = getMousePos(event);
                context.lineTo(pos.x, pos.y);
                context.lineWidth = 6; // Largura da caneta fixa em 2 pixels
                context.lineCap = 'round'; // Extremidade da linha arredondada
                context.lineJoin = 'round'; // Junção das linhas arredondada
                context.stroke();
            }
        }

        function stopDrawing() {
            drawing = false;
        }

        function getMousePos(event) {
            var rect = canvas.getBoundingClientRect();
            var scaleX = canvas.width / rect.width;
            var scaleY = canvas.height / rect.height;
            var offsetX = event.clientX - rect.left;
            var offsetY = event.clientY - rect.top;
            var mousePosX = offsetX * scaleX;
            var mousePosY = offsetY * scaleY;
            return {
                x: mousePosX,
                y: mousePosY
            };
        }

        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mouseleave', stopDrawing); // Parar de desenhar quando o mouse sai da área do canvas

        canvas.addEventListener('touchstart', function (event) {
            var touch = event.touches[0];
            startDrawing(touch);
        });

        canvas.addEventListener('touchmove', function (event) {
            var touch = event.touches[0];
            draw(touch);
            event.preventDefault();
        });

        canvas.addEventListener('touchend', stopDrawing);

        document.getElementById('clearBtn').addEventListener('click', function () {
            context.clearRect(0, 0, canvas.width, canvas.height);
        });

        document.getElementById('saveBtn').addEventListener('click', function () {
            var signatureData = canvas.toDataURL('image/png'); // Obtém a imagem da assinatura como um formato de dados

            // Envia a imagem para o servidor usando AJAX
            var xhr = new XMLHttpRequest();
            xhr.open('POST', 'salvar_assinatura.php', true);
            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    // Ação a ser executada após o envio bem-sucedido
                    alert('Assinatura salva com sucesso!');
                }
            };
            xhr.send('signature=' + encodeURIComponent(signatureData));
        });
    });
</script>
</body>
</html>